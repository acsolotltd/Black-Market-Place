<div class="space-y-4">
    {% if cart.items.exists %}
        {% for item in cart.items.all %}
<div class="flex flex-col sm:flex-row items-center sm:justify-between bg-neutral-900 p-4 rounded-xl border border-neutral-800">
    
    <div class="flex items-center gap-4">
        <img src="{{ item.product.image.url }}" alt="{{ item.product.name }}" class="w-20 h-20 object-cover rounded">
        <div>
            <h3 class="font-semibold text-amber-400">{{ item.product.name }}</h3>
            <p class="text-neutral-400">${{ item.product.price }}</p>
        </div>
    </div>

    <div class="flex items-center gap-2 mt-4 sm:mt-0">
        <button hx-post="{% url 'orders:update_quantity' item.id %}" 
                hx-vals='{"action":"decrease"}'
                hx-target="#cart-items"
                hx-swap="innerHTML"
                class="px-2 py-1 bg-neutral-800 hover:bg-neutral-700 rounded text-sm">
            -
        </button>

        <span class="px-2">{{ item.quantity }}</span>

        <button hx-post="{% url 'orders:update_quantity' item.id %}" 
                hx-vals='{"action":"increase"}'
                hx-target="#cart-items"
                hx-swap="innerHTML"
                class="px-2 py-1 bg-neutral-800 hover:bg-neutral-700 rounded text-sm">
            +
        </button>

        <button hx-post="{% url 'orders:remove_item' item.id %}" 
                hx-target="#cart-items"
                hx-swap="innerHTML"
                class="ml-4 px-2 py-1 bg-red-600 hover:bg-red-500 rounded text-sm text-white">
            ðŸ—‘
        </button>
    </div>
</div>
{% empty %}
<p class="text-neutral-400">Your cart is empty.</p>
{% endfor %}

        {% for item in cart.items.all %}
        <div class="flex justify-between items-center">
            <div>
                <h3 class="font-semibold">{{ item.product.name }}</h3>
                <p class="text-sm text-gray-400">{{ item.quantity }} x ${{ item.product.price }}</p>
            </div>
            <p class="font-semibold">${{ item.total_price }}</p>
        </div>
        {% endfor %}
        <div class="mt-4 border-t border-gray-700 pt-4 flex justify-between">
            <span>Total:</span>
            <span class="font-bold">${{ cart.total_price }}</span>
        </div>
        <a href="{#% url 'checkout' %}" class="mt-4 block bg-indigo-600 text-white py-2 rounded text-center hover:bg-indigo-700">Checkout</a>
    {% else %}
        <p class="text-gray-400">Your cart is empty.</p>
    {% endif %}
</div>
